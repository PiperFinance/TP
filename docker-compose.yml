version: '3'

services:
  tp:
    hostname: TP
    container_name: tp
    build:
      context: .
      dockerfile: Dockerfile
    restart: always
    ports:
      - 6004:6004
    environment:
      - API_URL=:6004
      - REDIS_URL=redis://redis:6379/5
      - CMC_API_KEYS=7a4acc5d-f8d8-45e3-bf91-8231830dcfdc,ebb1ac92-a767-4465-892b-4d816809390e,750e7307-d0f5-48df-9f66-41e5bcfa9d20,3549a5de-57b2-4794-935a-2ac1b432a724,7876cd70-24c2-47d9-b74f-9722ceb50b12,101d4c52-efa0-4e72-8af0-9726e0f310fd,97a390b1-4a76-414a-8606-d8401b8cca68,c0cc6c23-5290-4ded-9f54-3147f3a2c8ab,51c28b85-d1d0-4b33-8838-45331a2b7fec,6076fcd7-7a85-4717-8191-7fadba020e4d,6d704602-a3e4-4513-89c3-f0d4d354dd2c
      - GIN_MODE=debug
    networks:
      - tp_net
      - redis_db

networks:
  redis_db:
    external:
      name: redis_db
  tp_net:
    driver: bridge
    name: tp_net
